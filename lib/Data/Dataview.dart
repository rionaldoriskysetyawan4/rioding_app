import 'dart:async';
import 'package:get/get.dart';
import '../Menu/Controller/Model.dart';

class NewsController extends GetxController {
  // Observable list of ItemModel
  var currentIndex = 0.obs;
  late Timer timer;
  var items = <NewsMuModel>[].obs;
  var itemsmu = <BookMuModel>[].obs;

  // Initialize with some default items
  @override
  void onInit() {
    super.onInit();
    loadNewsItems();
    loadBookItems();
    startImageSlider(); // Start the image slider
  }

  // Method to load some initial news items
  void loadNewsItems() {
    items.addAll([
      NewsMuModel(title: 'Perang Rusia Ukraina', description: '11 Maret 2022 Pada beberapa hari pertama invasi ke Ukraina berlangsung, militer di Kota Kharkiv mampu menghalau iring-iringan kendaraan lapis baja Rusia. ', imageku: 'images/SekolahRusia.png', valuemu: 'Korban pertama dalam perang adalah waktu. Tanyakan kepada serdadu muda di garis depan, kapan serangan terjadi? Atau kepada perempuan tua yang berbaring di ranjang Rumah Sakit, kapan rumahnya kena gempuran artileri? Mereka akan melihat Anda dengan tatapan kebingungan. Apakah 24 jam lalu? Atau 48 jam lalu? Hari-hari sudah bercampur menjadi satu, kata mereka.Di Kharkiv, kota terbesar kedua di Ukraina, waktu bersifat elastis. Kota itu dekat perbatasan Rusia sehingga gempuran artileri dan serangan pesawat tidak berhenti.Bagi warga kota tersebut, dua pekan terakhir seakan berjalan lama dan tak henti tapi suasana damai rasanya seperti kemarin.Salju sejauh mata memandang di bagian utara pinggiran Kota Kharkiv. Letnan Yevgen Gromadsky mengangkat tangan kanannya seperti memberi aba-aba. "Tembak," kata pria berusia 21 tahun itu mengiringi suara letusan artileri dari posisinya.Sesaat kemudian giliran tangan kirinya seperti memberi peringatan. "Waspada," cetusnya. Suara gempuran artileri Rusia dari posisi mereka yang terpaut 900 meter lantas menggelegar di ladang tertutup salju.'),
      NewsMuModel(title: 'Hujan Rudal Dari Iran', description: 'Rudal-rudal Iran menghantam berbagai penjuru Israel pada Selasa (1/10/2024) malam. Apakah itu terjadi karena Iron Dome dan aneka pertahanan udara Israel tidak berfungsi maksimum atau ada alasan lain?', imageku: 'images/HujanRudal.png', valuemu: 'Ada banyak pertanyaan belum terjawab soal serangan pada Selasa malam itu. Salah satunya soal jenis rudal yang dipakai Iran untuk menyerang Israel.Sejumlah pihak menduga, Iran memakai varian-varian rudal Shahab-3 untuk menyerang Israel. ”Shahab-3 adalah model dasar untuk semua rudal balistik jarak menengah yang menggunakan propelan cair milik Iran,” kata koordinator penelitian di Armament Research Services (ARES), Patrick Senft, seperti dikutip dari CNN, Rabu (2/10/2024).KompasGempuran Israel ke Hizbullah Lebanon, tidak sampai 24 jam dibalas oleh Iran. Pemimpin Tertinggi Iran Ayatollah Ali Khamenei memerintahkan menembakkan sekitar 200 rudal balistik Iran ke Israel, Selasa (1/10/2024). Berhasilkah serangan ini? Lalu, bagaimana tanggapan Israel? Dan, bagaimana perbandingan kekuatan Iran-Israel di atas kertas?Menurut data Missile Threat Project, Shahab-3 mulai dioperasikan pada 2003. Rudal itu dapat membawa hulu ledak hingga 1.200 kilogram. Rudal dapat ditembakkan dari peluncur bergerak atau peluncur statis di gudang penyimpanan.Sementara menurut Iran Watch, akurasi varian terbaru Shahab-3, rudal Ghadr dan Emad, hingga mendekati 300 meter dari target. Lubang-lubang di sekitar kantor pusat Mossad, badan intelijen Israel, menunjukkan itu.Baca juga: Atas Perintah Ayatollah Ali Khamenei, Iran Tembakkan Rudal ke IsraelDalam siaran langsung CNN terlihat, kantor itu berada di kawasan padat rumah dan tempat usaha. Kantor di pinggiran Tel Aviv itu salah satu sasaran Iran dalam serangan Selasa malam.Rudal hipersonikMedia Iran, Tasnim, melaporkan, selain Ghadr dan Emad, Teheran juga menggunakan rudal balistik terbaru mereka, Fattah-1, dalam serangan Selasa malam. Teheran menggambarkan Fattah-1 sebagai rudal hipersonik. Artinya, rudal ini melaju dengan kecepatan Mach 5 atau lima kali kecepatan suara atau sekitar 6.100 kilometer (km) per jam.Rudal Iran ditampilkan di parade Hari Angkatan Darat di pangkalan militer di Teheran utara, Iran, 17 April 2024.AP PHOTO/VAHID SALEMIRudal Iran ditampilkan di parade Hari Angkatan Darat di pangkalan militer di Teheran utara, Iran, 17 April 2024.Namun, sejumlah pakar senjata ragu. ”Itu adalah salah satu rudal balistik terbaru mereka dan mereka akan kehilangan banyak hal jika menggunakannya dalam serangan Selasa malam,” kata Trevor Ball, mantan teknisi senior persenjataan peledak di Angkatan Darat Amerika Serikat.Menurut Ball, penggunaan Fatah-1 akan membuka rahasia rudal andalan itu. Israel akan mendapatkan gambaran tentang kemampuannya hanya dari penggunaannya. ”Itu akan jadi propaganda gratis untuk Israel,” katanya.Baca juga: Dilema Iran, Membalas atau Menahan Diri?Dikutip dari Al Jazeera, dosen Universitas Pertahanan Nasional di Washington DC, David Des Roches, juga tak yakin Iran menggunakan rudal hipersonik baru dalam serangannya. Ia menduga Iran menggunakan rudal balistik jarak menengah.Rudal balistik jarak menengah yang diluncurkan dari Iran akan memasuki atmosfer dan kemudian meninggalkannya dengan kecepatan yang sangat tinggi di atas Israel. ”Tampaknya rentetan serangan itu berhasil mengalahkan pertahanan rudal lokal Israel,” kata Des Roches.Roket penangkis diluncurkan artileri pertahahan udara Israel, Iron Dome, untuk mencegat rudal Iran pada April 2024.AP PHOTO/TOMER NEUBERGRoket penangkis diluncurkan artileri pertahahan udara Israel, Iron Dome, untuk mencegat rudal Iran pada April 2024.Meski kecepatannya tinggi, Roches tidak yakin rudal Iran ke Israel tergolong hipersonik. Disebut rudal hipersonik jika bisa berbelok-belok dan bermanuver saat melaju lima kali kecepatan suara. Kemampuan manuver itu tak terlihat di rudal-rudal di langit Israel pada Selasa malam.'),
      NewsMuModel(title: 'Drone Elang Hitam', description: 'PT Dirgantara Indonesia (PTDI) menyatakan masih terus mengembangkan Pesawat Udara Nirawak Medium Altitude Long Endurance (PUNA MALE) Elang Hitam yang pernah masuk daftar prioritas riset nasional. PUNA MALE Elang Hitam adalah pesawat nirawak jenis drone tempur atau kombatan yang hingga akhir 2021 lalu masih dikerjakan konsorsium besar Kementerian Pertahanan, TNI AU, PTDI, Institut Teknologi Bandung, PT Len Industri, dan Lembaga Penerbangan dan Antariksa Nasional.', imageku: 'images/elanghitam.png', valuemu: 'Saat ini fase pengembangan dalam tahapan untuk percobaan penerbangan pertama,” kata Direktur Produksi PTDI, Batara Silaban, di sela-sela media gathering PTDI dan Kementerian Pertahanan di hanggar PTDI di Bandung, Jumat 27 September  2024. Batara tidak merinci kapan pengujian penerbangan itu dijadwalkan. Dia hanya menyebutkan sedang berusaha menyelesaikan perhitungannya. "Tentu kalau secara plan kami harapkan bisa diterbangkan dalam waktu tidak terlalu lama,” kata dia.Baca juga:PTDI Bakal Modernisasi 9 Pesawat Hercules C-130 TNI AU, Begini Proses KerjanyaBatara menegaskan kalau proyek PUNA MALE Elang Hitam ini tetap berjalan meski saat ini tengah berjalan pula kerja sama transfer teknologi dari UAV Atak milik Turkish Aerospace Industry. Pemerintah lewat Kementerian Pertahanan pada tahun lalu telah meneken kontrak pembelian sebanyak 12 unit drone tempur yang berada di kelas yang sama dengan yang dituju Elang Hitam tersebut.Drone tempur Anka di International Defence Industry Fair, Istanbul, Turki, 25-28 Juli 2023. TEMPO/WURAGILBatara, Elang Hitam dirancang menjadi pesawat nirawak yang mengusung misi surveilance. Pesawat mampu beroperasi 12-24 jam dalam sekali penerbangan dengan ketinggian maksimum terbang hingga 20 ribu kaki dan jangkauan terbang hingga 250 kilometer. “Salah satu kemampuannya bisa melakukan surveilance hampir 24 jam. Roadmap pengembangannya memang itu, kemampuan surveilance, apa lagi negara kita kepulauan maritim,” tutur Batara.  '),
      NewsMuModel(title: 'Frigate Merah Putih', description: 'Defend ID, holding industri pertahanan dalam negeri yang menaungi PT PAL Indonesia, berharap produksi dua kapal fregat Merah Putih untuk TNI AL bisa selesai satu hingga dua tahun lagi', imageku: 'images/frigate.png', valuemu: '“Mudah-mudahan dalam 1-2 tahun ke depan kita akan meluncurkan platform-nya. Diharapkan tahun 2028 atau 2029, dua fregat Merah Putih sudah siap beroperasi,” kata Direktur Utama Defend ID Bobby Rasyidin saat ditemui di Senayan, Jakarta Pusat, Senin (1/7/2024) petang. Bobby menyebutkan, combat management system (CMS) atau sistem senjata didatangkan dari Turkiye. “Kita adopsi teknologi combat system-nya itu dari Turkiye. Kenapa Turkiye? Karena Turkiye yang mau transfer teknologi,” ucap Bobby. Baca juga: Indonesia Mulai Bangun Kapal Fregat Merah Putih Unit Kedua Bobby mengatakan, PT PAL dan pabrikan Rosyth Royal Dockyard Ltd (Babcock) asal Inggris, duduk bareng untuk mendesain dua kapal fregat tersebut.'),
      NewsMuModel(title: 'Putin Melonggarkan aturan Nuklir', description: 'Keputusan Rusia untuk mengubah doktrin nuklirnya tidak boleh dianggap main-main. Kremlin pun menyatakan, hal itu seharusnya menjadi peringatan serius bagi Barat.', imageku: 'images/Putin.png', valuemu: 'Pada Rabu (25/9/2024) kemarin, Presiden Rusia Vladimir Putin mengumumkan rencana untuk melonggarkan aturan terkait dengan penggunaan senjata nuklir negara itu. Salah satunya adalah, Moskow dapat melancarkan respons nuklir jika terjadi serangan udara besar-besaran terhadap wilayah Rusia.Putin Bakal Ubah Doktrin Nuklir Rusia, Peringatan bagi Ukraina dan ASBaca JugaPutin Bakal Ubah Doktrin Nuklir Rusia, Peringatan bagi Ukraina dan ASDoktrin terbaru itu juga akan memungkinkan Moskow menggunakan senjata nuklirnya terhadap negara-negara non-nuklir jika mereka didukung oleh kekuatan nuklir. Prinsip yang kedua ini jelas-jelas merujuk kepada Ukraina dan para pendukung Baratnya yang memiliki kekuatan nuklir seperti AS, Inggris, dan Prancis.“(Rencana perubahan doktrin nuklir Rusia ini) harus dianggap sebagai sinyal khusus. Sebuah sinyal yang memperingatkan negara-negara ini tentang konsekuensi jika mereka berpartisipasi dalam serangan terhadap negara kami dengan berbagai cara, tidak mesti nuklir,” kata Juru Bicara Kremlin, Dmitry Peskov, kepada wartawan di Moskow, Kamis (26/9/2024).Rudal Nuklir Setan-2 Rusia Meledak Dahsyat saat uji Coba, Ciptakan Kawah BesarBaca JugaRudal Nuklir Setan-2 Rusia Meledak Dahsyat saat uji Coba, Ciptakan Kawah BesarTanpa menyebut nama Ukraina, Peskov mengatakan doktrin pencegahan nuklir Rusia sedang disesuaikan karena adanya unsur ketegangan yang berkembang di sepanjang perbatasan wilayah negara itu.Usulan perubahan doktrin nuklir Moskow itu muncul tatkala Ukraina getol memohon-mohon ke Barat agar mengizinkan Kiev menggunakan rudal jarak jauh untuk menyerang ke dalam wilayah Rusia. Putin sendiri memiliki kewenangan untuk menyetujui perubahan doktrin itu.'),
    ]);
  }

  void loadBookItems() {
    itemsmu.addAll([
      BookMuModel(title: 'Bumi', description: 'Bumi adalah sebuah novel karya Tere Liye. Novel ini merupakan buku pertama dari serial Bumi atau Dunia Paralel dan diterbitkan pertama kali oleh Gramedia Pustaka Utama tahun 2014.', imageku: 'images/Bumi.png', valuemu: 'Raib adalah seorang gadis berumur 15 tahun. Secara umum, tidak ada yang berbeda dari Raib dengan remaja pada umumnya. Namun, Raib memiliki rahasia yang ia simpan sendiri sejak kecil, yakni kemampuan untuk menghilangkan diri. Hanya dengan mengatupkan kedua tangannya di depan wajahnya, Raib dapat melenyapkan seluruh tubuhnya dengan seketika. Raib suka menggunakan kemampuan tersebut untuk bermain petak umpat bersama orang tuanya. Saat ulang tahunnya yang kesembilan, Raib mendapat hadiah anonim berupa dua ekor kucing kembar. Kedua kucing itu pun dia beri nama si "Hitam" dan si "Putih".Seli merupakan sahabat sekaligus teman semeja Raib. Suatu hari, Seli bertabrakan dengan Ali, si biang kerok. Mereka bertengkar, tapi Raib menyela dan membereskan pertengkaran kecil itu. Saat pelajaran matematika Miss Selena, Raib dan Ali dihukum karena tidak mengumpulkan tugas. Raib lalu menutup wajahnya, berniat untuk menghilang. Tapi saat ia mengintip di sela-sela jarinya, tiba-tiba seseorang berperawakan kurus tinggi muncul di hadapannya. Sontak saja Ali melihat Raib yang tiba-tiba muncul dan menyudutkan Raib dengan segala pertanyaan.Hari itu, sepulang sekolah dan sesampai rumah, hanya si Putih yang menyambut Raib. Raib tak melihat si Hitam. Padahal, biasanya si Hitam tidak pernah lepas dari si Putih. Beberapa hari kemudian, di malam hari, di saat Raib sedang mencoba menghilangkan jerawat di dahinya, sosok tinggi kurus yang beberapa hari lalu menyapa Raib muncul dalam cermin kamar Raib sambil menggendong si Hitam.'),
      BookMuModel(title: 'Bulan', description: 'Bulan adalah sebuah novel karya Tere Liye, novel ini adalah buku kedua dari seri Bumi/serial Dunia Paralel. Diterbitkan pertama kali oleh Gramedia Pustaka Utama tahun 2015.', imageku: 'images/Bulan.png', valuemu: 'Petualangan Raib, Seli, dan Ali berlanjut.Beberapa bulan setelah peristiwa klan bulan, Miss Selena akhirnya muncul di sekolah. Ia membawa kabar menggembirakan untuk anak-anak yang berjiwa petualang seperti Raib, Seli, dan Ali. Miss Selena bersama dengan Av akan mengajak mereka untuk mengunjungi klan matahari selama dua minggu. Av berencana akan bertemu dengan ketua konsil klan matahari, yang menguasai klan matahari sepenuhnya untuk mencari sekutu dalam menghadapi Tamus yang diperkirakan akan bebas dan juga membebaskan raja tanpa mahkota.Sesampainya mereka di Klan matahari, mereka disambut oleh festival bunga matahari. Hal yang tidak pernah disangka oleh Av dan Miss Selena adalah ketua konsil klan matahari yang meminta Raib, Seli, Ali, dan Ily untuk menjadi peserta ke-10 dari festival bunga matahari. Setelah perdebatan yang amat panjang, akhirnya rombongan Raib menerima tawaran itu. Dengan kekuatan yang dimiliki Seli, Raib, dan Ily ditambah dengan senjata berupa panah dan pemukul, mereka bertekad melewati rintangan yang sangat membahayakan keselamatannya itu.'),
      BookMuModel(title: 'Matahari', description: 'Matahari adalah sebuah novel karya Tere Liye, novel ini adalah buku ketiga dari seri Bumi/serial Dunia Paralel. Diterbitkan pertama kali oleh Gramedia Pustaka Utama tahun 2016.[1]', imageku: 'images/Matahari.png', valuemu: 'Raib, Ali, dan Seli dirundung duka atas tewasnya Ily, sahabat mereka, pada pertarungan di Klan Matahari. Tak hanya mereka, para kesatria Klan Bulan juga merasakan hal sama, sampai membuat Miss Selena tak bisa kembali ke Klan Bumi.Kepulangan mereka ke Klan Bumi disambut dengan tugas sebagaimana anak sekolah lainnya. Bahkan, Ali mendadak populer menjadi bintang lapangan pada pertandingan basket antar sekolah yang dicurigai Raib berbuat curang menyalahgunakan hasil eksperimen. Hingga babak final, tindakan tak sportif lawan tanding basket tim sekolah mereka memicu kemarahan Ali sampai hampir merubahnya jadi beruang (bisa jadi ini bentuk kekuatan Ali)Khawatir perubahan wujud Ali akan membuat heboh seisi lapangan, dengan kekuatan teleportasinya, Raib mencoba mencairkan keadaan. Di luar dugaan ternyata Ali lebih cepat diterbangkan oleh sebuah pesawat kapsul perak.Kejar-kejaran pun terjadi, mengantarkan Raib dan Seli ke tempat parkiran pesawat kapsul perak tersebut, basement rumah megah Ali. Kapsul perak ini ternyata buah eksperimen Ali. Ia namakan Ily sebagai dedikasi untuk sahabat mereka yang tewas menjadi pahlawan.Pengakuan meluncur dari mulut Ali, bahwa dia mempelajari pengetahuan-pengetahuan baru dari tabung perak pemberian Av. “Merchandise Gift” yang diberikan saat mereka pulang dari Klan Bulan. Tabung berisi soft copy seluruh arsip perpustakaan Klan Bulan tersebut menjadi mainan baru trio petualang.'),
      BookMuModel(title: 'Komet', description: 'Komet adalah buku keenam dalam serial novel Bumi karya Tere Liye. Diterbitkan pertama kali oleh Gramedia Pustaka Utama tahun 2018.[1]', imageku: 'images/Komet.png', valuemu: 'Saat mengetahui si Tanpa Mahkota sedang mencari Klan Komet untuk menggenapkan kekuatannya, Ali sibuk mencari tahu tentang Klan Komet melalui buku-buku yang ditinggalkan Zaad di Ruangan Padang Sampah Klan Bintang. Portal menuju Klan Komet ternyata ada di Klan Matahari. Ali mengabari Av dan Miss Selena tentang si Tanpa Mahkota yang mencari Komet dan portal menuju Klan Komet di Klan Matahari.Mereka harus menemukan Klan Komet sebelum si Tanpa Mahkota. Portal menuju Klan Komet dapat dibuka oleh bunga matahari pertama mekar pada festival bunga matahari yang selalu diadakan setiap tahun di Klan Matahari.Si Tanpa Mahkota berhasil membuka dan masuk ke portal menuju Klan Komet, disusul Ali, Raib, Seli saat mereka sedang bertarung melawan si Tanpa Mahkota di stadion kota Ilios. Mereka berempat telah menuju Klan Komet. Mencari pulau kecil di tengah lautan biru dengan tumbuhan aneh.Petualangan Raib, Seli, dan Ali di Klan Komet dimulai. Mereka tersesat di dunia entah berantah karena Ali dengan sengaja masuk ke dalam portal mengikuti si Tanpa Mahkota. Portal tersebut menuju pulau dengan tumbuhan aneh. Dan ternyata mereka tersesat di Klan Komet terdiri dari gugusan pulau-pulau yaitu Pulau Hari Senin, Selasa, Rabu, Kamis, Jumat,Sabtu dan Minggu. Melewati gugusan pulau-pulau ini tidak mudah. Banyak ujian yang harus dilalui.'),
      BookMuModel(title: 'Atomic Habit', description: 'No matter your goals, Atomic Habits offers a proven framework for improving--every day. James Clear, one of the worlds leading experts on habit formation, reveals practical strategies that will teach you exactly how to form good habits, break bad ones, and master the tiny behaviors that lead to remarkable results.', imageku: 'images/Atomic Habits.png', valuemu: 'If youre having trouble changing your habits, the problem isnt you. The problem is your system. Bad habits repeat themselves again and again not because you dont want to change, but because you have the wrong system for change. You do not rise to the level of your goals. You fall to the level of your systems. Here, youll get a proven system that can take you to new heights.Clear is known for his ability to distill complex topics into simple behaviors that can be easily applied to daily life and work. Here, he draws on the most proven ideas from biology, psychology, and neuroscience to create an easy-to-understand guide for making good habits inevitable and bad habits impossible. Along the way, readers will be inspired and entertained with true stories from Olympic gold medalists, award-winning artists, business leaders, life-saving physicians, and star comedians who have used the science of small habits to master their craft and vault to the top of their field.Learn how to:make time for new habits (even when life gets crazy);overcome a lack of motivation and willpower;design your environment to make success easier;get back on track when you fall off course;'),
    ]);
  }

  // Start the timer to cycle through news items
  void startImageSlider() {
    timer = Timer.periodic(Duration(seconds: 10), (timer) {
      if (items.isNotEmpty) { // Ensure there are items to display
        currentIndex.value = (currentIndex.value + 1) % items.length; // Cycle through news items
      }
    });
  }

  @override
  void onClose() {
    timer.cancel(); // Cancel the timer when the controller is disposed
    super.onClose();
  }
}
